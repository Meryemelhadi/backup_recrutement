<?php $properties["query"]="SELECT _oid,_name,_number,_code,_category_oid,_contract_type_oid,_subsidiary_oid,_establishment,_service_oid,_duty_station_oid,_current_step,_progress_level,_application_type,_opening_date,_closing_date,_creator FROM _rct_vacancy WHERE ".$this->getWhereClause("_name",$this->getFieldParam("name","null","|",$record,""),'LIKE','OR','%','%',true,false,'|','false')." AND ".$this->getWhereClause("_code",$this->getFieldParam("code","null","|",$record,""),'LIKE','OR','%','%',true,false,'|','false')." AND ".$this->getWhereClause("_category_oid",$this->getFieldParam("category_oid","null","|",$record,""),'=','OR','','',true,false,'|','false')." AND ".$this->getWhereClause("_vacancy_project",$this->getFieldParam("vacancy_project","0","|",$record,""),'=','OR','','',true,false,'|','false')." AND ".$this->getWhereClause("_app_connected",$this->getFieldParam("app_connected","null","|",$record,""),'=','OR','','',true,false,'|','false')." AND ".$this->getWhereClause("_establishment",$this->getFieldParam("establishment","null","|",$record,""),'=','OR','','',true,false,'|','false')." AND ".$this->getWhereClause("_subsidiary_oid",$this->getFieldParam("subsidiary_oid","null","|",$record,""),'=','OR','','',true,false,'|','false')." AND ".$this->getWhereClause("_service_oid",$this->getFieldParam("service_oid","null","|",$record,""),'=','OR','','',true,false,'|','false')." AND ".$this->getWhereClause("_duty_station_oid",$this->getFieldParam("duty_station_oid","null","|",$record,""),'=','OR','','',true,false,'|','false')." AND ".$this->getWhereClause("_current_step",$this->getFieldParam("current_step","null","|",$record,""),'=','OR','','',true,false,'|','false')." AND ".$this->getWhereClause("_progress_level",$this->getFieldParam("progress_level","null","|",$record,""),'=','OR','','',true,false,'|','false')." AND ".$this->getWhereClause("_application_type",$this->getFieldParam("application_type","0","|",$record,""),'LIKE','OR','%','%',true,false,'|','false')." AND ".$this->getWhereClause("_opening_date",$this->getFieldParam("opening_date","null","|",$record,""),'=','OR','','',true,false,'|','false')." AND ".$this->getWhereClause("_closing_date",$this->getFieldParam("closing_date","null","|",$record,""),'=','OR','','',true,false,'|','false')." AND _workflow_state='2' AND ".$this->getWhereClause("_archive_state",$this->getFieldParam("archive_state","null","|",$record,""),'=','OR','','',true,false,'|','false')." GROUP BY _oid  ORDER BY _name ASC,_code ASC ";
	$properties["pageOffset"]=0+(isset($_GET["page"])?$_GET["page"]:"0");
	$properties["pageAlias"]='page';
	$properties["nbRecords"]=0+'20';
	$properties["query"] .= " LIMIT ".(string)($properties["nbRecords"]*$properties["pageOffset"]).",".$properties['nbRecords'];
; ?>